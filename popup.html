<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gemini Translator</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <!-- Simple Header -->
    <div class="header">
      <img src="icons/icon128.png" alt="Logo" class="logo-img">
      <span class="title">Translator</span>
    </div>

    <!-- Main Actions -->
    <div class="main-actions">
      <button id="translateCurrentPage" class="btn-main">
        <span class="icon">üìÑ</span>
        D·ªãch trang n√†y
      </button>
      <button id="screenshotTranslate" class="btn-main btn-secondary">
        <span class="icon">üì∑</span>
        Ch·ª•p & D·ªãch
      </button>
    </div>

    <!-- Quick Status -->
    <div id="status" class="status"></div>

    <!-- API Key Section (compact) -->
    <div class="api-section">
      <input type="password" id="apiKey" placeholder="Nh·∫≠p Gemini API Key">
      <button id="saveApiKey" class="btn-save">L∆∞u</button>
    </div>
    <a href="https://makersuite.google.com/app/apikey" target="_blank" class="api-link">L·∫•y API key mi·ªÖn ph√≠ ‚Üí</a>

    <!-- Advanced Settings Toggle -->
    <button id="toggleAdvanced" class="btn-toggle">
      <span class="toggle-icon">‚öôÔ∏è</span>
      <span class="toggle-text">C√†i ƒë·∫∑t n√¢ng cao</span>
      <span class="toggle-arrow">‚ñº</span>
    </button>

    <!-- Advanced Settings (hidden by default) -->
    <div id="advancedSettings" class="advanced-panel" style="display: none;">

      <div class="setting-group">
        <label>Model</label>
        <select id="preferredModel">
          <optgroup label="Gemini 3 (Newest)">
            <option value="gemini-3-pro-preview">Gemini 3 Pro Preview</option>
          </optgroup>
          <optgroup label="Gemini 2.5 (Recommended)">
            <option value="gemini-2.5-flash" selected>Gemini 2.5 Flash (Stable)</option>
            <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash Lite (Fast)</option>
            <option value="gemini-2.5-pro">Gemini 2.5 Pro (Thinking)</option>
            <option value="gemini-2.5-flash-preview-05-20">Gemini 2.5 Flash Preview</option>
          </optgroup>
          <optgroup label="Gemini 2.0">
            <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
            <option value="gemini-2.0-flash-001">Gemini 2.0 Flash (Stable)</option>
            <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash Lite</option>
            <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash (Exp)</option>
          </optgroup>
          <optgroup label="Legacy">
            <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
            <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
          </optgroup>
        </select>
      </div>

      <div class="setting-group">
        <label>VƒÉn phong</label>
        <select id="styleOverride">
          <option value="auto">T·ª± ƒë·ªông ph√°t hi·ªán</option>
          <option value="general">VƒÉn b·∫£n th√¥ng th∆∞·ªùng</option>
          <option value="technical">K·ªπ thu·∫≠t/C√¥ng ngh·ªá</option>
          <option value="academic">H·ªçc thu·∫≠t</option>
          <option value="news">Tin t·ª©c</option>
          <option value="creative">VƒÉn h·ªçc</option>
          <option value="casual">ƒê·ªùi th∆∞·ªùng</option>
        </select>
      </div>

      <div class="setting-group">
        <label>Cache</label>
        <div class="cache-row">
          <span id="cacheInfo">--</span>
          <button id="clearCache" class="btn-small">X√≥a</button>
        </div>
      </div>

      <div class="setting-group">
        <label>Domain Profiles</label>
        <div class="cache-row">
          <span id="domainStats">--</span>
          <button id="clearDomains" class="btn-small">X√≥a</button>
        </div>
      </div>

      <button id="testConnection" class="btn-test">üîç Ki·ªÉm tra k·∫øt n·ªëi API</button>

    </div>

    <!-- Restore Button -->
    <button id="restorePage" class="btn-restore">Kh√¥i ph·ª•c trang g·ªëc</button>

    <!-- Footer -->
    <div class="footer">v1.0.0</div>
  </div>

  <script src="popup.js"></script>
</body>

</html>