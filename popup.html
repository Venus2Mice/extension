<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gemini Translator</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üåê Gemini Translator</h1>
      <p>D·ªãch sang Ti·∫øng Vi·ªát</p>
    </div>

    <div class="section">
      <label for="apiKey">Gemini API Key:</label>
      <input type="password" id="apiKey" placeholder="Nh·∫≠p API key c·ªßa b·∫°n">
      <div style="display: flex; gap: 10px; margin-top: 10px;">
        <button id="saveApiKey" class="btn btn-primary" style="flex: 1;">L∆∞u API Key</button>
        <button id="testConnection" class="btn btn-secondary" style="flex: 1;">üîç Ki·ªÉm tra K·∫øt n·ªëi</button>
      </div>
      <p class="help-text">
        L·∫•y API key mi·ªÖn ph√≠ t·∫°i: 
        <a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a>
      </p>
    </div>

    <div class="section">
      <label for="preferredModel">Model ∆∞u ti√™n:</label>
      <select id="preferredModel">
        <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash Lite (Nhanh nh·∫•t, ti·∫øt ki·ªám)</option>
        <option value="gemini-2.5-flash">Gemini 2.5 Flash (Nhanh, th√¥ng minh)</option>
        <option value="gemini-flash-latest">Gemini Flash Latest (M·ªõi nh·∫•t)</option>
        <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash Lite</option>
        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
        <option value="gemini-exp-1206">Gemini Exp 1206 (Th·ª≠ nghi·ªám)</option>
      </select>
      <p class="help-text">
        Model s·∫Ω ƒë∆∞·ª£c ∆∞u ti√™n s·ª≠ d·ª•ng. N·∫øu h·∫øt quota ho·∫∑c l·ªói, t·ª± ƒë·ªông chuy·ªÉn sang model kh√°c.
      </p>
    </div>

    <div class="section">
      <h3>Qu·∫£n l√Ω Cache:</h3>
      <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
        <span id="cacheInfo" style="color: #666; font-size: 14px;">ƒêang t·∫£i...</span>
        <button id="clearCache" class="btn btn-secondary" style="margin-left: auto;">üóëÔ∏è X√≥a Cache</button>
      </div>
      <p class="help-text">
        Cache gi√∫p d·ªãch nhanh h∆°n cho vƒÉn b·∫£n ƒë√£ d·ªãch. X√≥a cache n·∫øu th·∫•y b·∫£n d·ªãch b·ªã l·ªói.
      </p>
    </div>

    <div class="section">
      <h3>C√°ch s·ª≠ d·ª•ng:</h3>
      <ul class="instructions">
        <li><strong>D·ªãch Lazy (M·∫∑c ƒë·ªãnh):</strong> Click chu·ªôt ph·∫£i ‚Üí "D·ªãch trang (Lazy)" - D·ªãch theo scroll, ph√π h·ª£p trang l·ªõn</li>
        <li><strong>D·ªãch to√†n b·ªô:</strong> Click chu·ªôt ph·∫£i ‚Üí "D·ªãch to√†n b·ªô trang (Full)" - D·ªãch ngay l·∫≠p t·ª©c to√†n b·ªô</li>
        <li><strong>D·ªãch vƒÉn b·∫£n:</strong> Ch·ªçn text ‚Üí Click chu·ªôt ph·∫£i ‚Üí "D·ªãch vƒÉn b·∫£n ƒë√£ ch·ªçn"</li>
        <li><strong>Kh√¥i ph·ª•c:</strong> Click l·∫°i "D·ªãch trang" ƒë·ªÉ kh√¥i ph·ª•c b·∫£n g·ªëc</li>
      </ul>
    </div>

    <div class="section actions">
      <button id="translateCurrentPage" class="btn btn-success">D·ªãch To√†n b·ªô trang Hi·ªán T·∫°i</button>
      <button id="restorePage" class="btn btn-secondary">Kh√¥i Ph·ª•c G·ªëc</button>
    </div>

    <div id="status" class="status"></div>

    <div class="footer">
      <p>Phi√™n b·∫£n 1.0.0</p>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
